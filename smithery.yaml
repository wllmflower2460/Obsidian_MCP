build:
  dockerBuildPath: . # Explicitly set build context to the root directory
startCommand:
  type: stdio
  configSchema:
    type: object
    required:
      - obsidianApiKey
      - obsidianBaseUrl
    properties:
      obsidianApiKey:
        type: string
        description: The API key generated by the Obsidian Local REST API plugin.
      obsidianBaseUrl:
        type: string
        format: uri # Ensure it's a valid URL format
        description: The base URL of your Obsidian Local REST API (e.g., http://127.0.0.1:27123).
  commandFunction: |
    (config) => ({
      command: 'npx',
      args: ['obsidian-mcp-server'],
      env: { 
        OBSIDIAN_API_KEY: config.obsidianApiKey,
        OBSIDIAN_BASE_URL: config.obsidianBaseUrl,
        OBSIDIAN_VERIFY_SSL: "false"
      }
    })
